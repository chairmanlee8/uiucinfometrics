<html>
<head>
    <title>UIUC Infometrics</title>
    
    <script type="text/javascript" src="jquery-1.5.1.min.js"></script>
    <script type="text/javascript">
        function get_class_info()
        {
            var theClassName = $('#class_form > input[name=class]').val();
            
            $.post(
                'uiuc-catalog-ajax.py/query_class', {'className': theClassName},
                function(data)
                {
                    //$('#output_div').html(String(data.toSource()));
                    
                    // Create histogram arrays
                    var histograms = new Object;
                    
                    for(var section in data)
                    {
                        var thisHistogram = new Object;
                        
                        for(var i in data[section])
                        {
                            var startHour = data[section][i];
                            
                            if(startHour in thisHistogram)
                            {
                                thisHistogram[startHour] += 1;
                            }
                            else
                            {
                                thisHistogram[startHour] = 1;
                            }
                        }
                        
                        histograms[section] = thisHistogram;
                    }
                    
                    if(JSON)
                    {
                        $("#output_div").html(JSON.stringify(histograms));
                    }
                    else
                    {
                        $("#output_div").html("JSON object not found.");
                    }
                },
                "json"
            );
        }
    </script>
</head>

<body>
    <form id="class_form">
        <input type="text" name="class" />
        <input type="button" value="Get Info" onclick="javascript:get_class_info();" />
    </form>
    
    <div id="output_div">
    </div>
</body>

</html>